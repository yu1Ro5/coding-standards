(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{328:function(t,e,_){"use strict";_.r(e);var v=_(11),a=Object(v.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"web-api-設計標準"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#web-api-設計標準"}},[t._v("#")]),t._v(" Web API 設計標準")]),t._v(" "),e("p",[t._v("OpenAPI Specification 規約を利用するに当たり、想定する Web API の設計ルールをまとめる。このルールに必ずしも準じる必要は無いが、このような設計を暗黙的に考慮し OpenAPI Specification 規約を作成している。")]),t._v(" "),e("h3",{attrs:{id:"http-メソッド"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#http-メソッド"}},[t._v("#")]),t._v(" HTTP メソッド")]),t._v(" "),e("p",[t._v("実現したい操作により、以下のような使い分けを想定する。HEAD（リソースの存在チェック）、GET（参照）、POST（新規作成）、PUT（更新）、PATCH（一部更新）、DELETE（削除）。")]),t._v(" "),e("h3",{attrs:{id:"http-ステータス"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#http-ステータス"}},[t._v("#")]),t._v(" HTTP ステータス")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://tools.ietf.org/html/rfc7231#section-6",target:"_blank",rel:"noopener noreferrer"}},[t._v("RFC 7231"),e("OutboundLink")],1),t._v("で定義されているレスポンスステータスコードを利用します。")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://datatracker.ietf.org/doc/html/rfc9205",target:"_blank",rel:"noopener noreferrer"}},[t._v("RFC9205"),e("OutboundLink")],1),t._v("（"),e("a",{attrs:{href:"https://tex2e.github.io/rfc-translater/html/rfc9205.html#section-4.6",target:"_blank",rel:"noopener noreferrer"}},[t._v("日本語訳"),e("OutboundLink")],1),t._v("）の方針に原則則る。ユースケース別に利用すべき HTTP ステータスコードを記載します。")]),t._v(" "),e("h4",{attrs:{id:"共通"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#共通"}},[t._v("#")]),t._v(" 共通")]),t._v(" "),e("ul",[e("li",[t._v("バリデーションエラー："),e("code",[t._v("400 Bad Request")])]),t._v(" "),e("li",[t._v("業務エラー："),e("code",[t._v("400 Bad Request")])]),t._v(" "),e("li",[t._v("認証エラー："),e("code",[t._v("401 Unauthorized")])]),t._v(" "),e("li",[t._v("認可エラー："),e("code",[t._v("403 Forbidden")])]),t._v(" "),e("li",[t._v("システムエラー："),e("code",[t._v("500 Internal Server Error")])])]),t._v(" "),e("h4",{attrs:{id:"get"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#get"}},[t._v("#")]),t._v(" GET")]),t._v(" "),e("ul",[e("li",[t._v("正常系："),e("code",[t._v("200 OK")]),t._v(" "),e("ul",[e("li",[t._v("検索系 API で結果 0 件の場合も、 "),e("code",[t._v("200 OK")]),t._v(" を返すとする")])])]),t._v(" "),e("li",[t._v("パスキー検索系 API で対象リソースが存在しないエラー："),e("code",[t._v("404 Not Found")])])]),t._v(" "),e("h4",{attrs:{id:"post"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#post"}},[t._v("#")]),t._v(" POST")]),t._v(" "),e("ul",[e("li",[t._v("正常系（同期）："),e("code",[t._v("201 Created")])]),t._v(" "),e("li",[t._v("正常系（非同期）："),e("code",[t._v("202 Accepted")])]),t._v(" "),e("li",[t._v("一意制約違反エラー："),e("code",[t._v("409 Conflict")])]),t._v(" "),e("li",[t._v("親リソースが存在しないエラー："),e("code",[t._v("404 Not Found")])])]),t._v(" "),e("h4",{attrs:{id:"put"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#put"}},[t._v("#")]),t._v(" PUT")]),t._v(" "),e("ul",[e("li",[t._v("正常系（同期）："),e("code",[t._v("200 OK")])]),t._v(" "),e("li",[t._v("正常系（非同期）："),e("code",[t._v("202 Accepted")])]),t._v(" "),e("li",[t._v("対象リソースが存在しないエラー："),e("code",[t._v("404 Not Found")])])]),t._v(" "),e("h4",{attrs:{id:"delete"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#delete"}},[t._v("#")]),t._v(" DELETE")]),t._v(" "),e("ul",[e("li",[t._v("正常系："),e("code",[t._v("204 No Content")]),t._v(" "),e("ul",[e("li",[t._v("もし、削除した項目の情報を応答する場合は "),e("code",[t._v("200 OK")]),t._v(" とする")])])]),t._v(" "),e("li",[t._v("対象リソースが存在しないエラー："),e("code",[t._v("404 Not Found")])])]),t._v(" "),e("h3",{attrs:{id:"api-バージョン管理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#api-バージョン管理"}},[t._v("#")]),t._v(" API バージョン管理")]),t._v(" "),e("ul",[e("li",[t._v("/v1, /v2 といったパスで表現する")]),t._v(" "),e("li",[t._v("型名変更、必須パラメータの追加、レスポンスの桁数変更、などをするときはバージョンを上げることを検討する")])]),t._v(" "),e("h3",{attrs:{id:"パラメータの命名"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#パラメータの命名"}},[t._v("#")]),t._v(" パラメータの命名")]),t._v(" "),e("p",[t._v("boolean 型である場合、 "),e("code",[t._v("[a-zA-Z0-9-_]+_flag")]),t._v(" という命名は非推奨とする。")]),t._v(" "),e("p",[e("code",[t._v("is_[a-zA-Z0-9-_]+")]),t._v(" や "),e("code",[t._v("has_[a-zA-Z0-9-_]+")]),t._v(" などの命名を代わりに検討する")])])}),[],!1,null,null,null);e.default=a.exports}}]);