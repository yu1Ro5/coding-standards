(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{315:function(s,t,a){"use strict";a.r(t);var n=a(11),e=function(s){s.options.__data__block__={mermaid_3008ab70:"sequenceDiagram\nparticipant A as クライアント\nparticipant B as Web APIサーバ\nparticipant C as オブジェクトストレージ\n\nA->>B: ①アップロード先URL取得\n  B->>C: Signed URL発行\n  C--\x3e>B: Signed URL\n  B--\x3e>A: アップロードURL、受付ID（加えて、アップロードで指定したいHTTP Methodや必要なリクエストヘッダーがあれば応答の項目に追加する）\n\nA->>C: ②ファイルアップロード\n\nA->>B: ③ファイルアップロード完了(受付ID、キー、属性)\n  B--\x3e>A: 受付完了\n"}},r=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("page-title"),s._v(" "),t("p",[s._v("本コーディング規約は、世の中のシステム開発プロジェクトのために無償で提供致します。\nただし、掲載内容および利用に際して発生した問題、それに伴う損害については、フューチャー株式会社は一切の責務を負わないものとします。\nまた、掲載している情報は予告なく変更することがございますので、あらかじめご了承下さい。")]),s._v(" "),t("h2",{attrs:{id:"はじめに"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#はじめに"}},[s._v("#")]),s._v(" はじめに")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://github.com/OAI/OpenAPI-Specification/blob/main/versions/2.0.md",target:"_blank",rel:"noopener noreferrer"}},[s._v("OpenAPI Specification 2.0（Swagger, OAS2）"),t("OutboundLink")],1),s._v("定義についてのコーディング規約をまとめます。より新しいバージョンとして OAS 3.0.3 規約（作成中）がありますので、ご注意ください。")]),s._v(" "),t("p",[s._v("本規約の"),t("RouterLink",{attrs:{to:"/documents/forOpenAPISpecification/prerequisite.html"}},[s._v("前提条件")]),s._v("に従い作成されています。ToC向けのLSUDs（Large Set of Unknown Developers）なWeb APIにはマッチしない可能性があります。")],1),s._v(" "),t("p",[s._v("Web API自体の設計については範囲外としますが、"),t("RouterLink",{attrs:{to:"/documents/forOpenAPISpecification/API_Design.html"}},[s._v("API 設計標準")]),s._v("に利用するステータスコードなどは記載しています。")],1),s._v(" "),t("h3",{attrs:{id:"ファイルフォーマット"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ファイルフォーマット"}},[s._v("#")]),s._v(" ファイルフォーマット")]),s._v(" "),t("p",[t("RouterLink",{attrs:{to:"/documents/forOpenAPISpecification/file_standards.html"}},[s._v("ファイルフォーマット規約")]),s._v("に準じる。")],1),s._v(" "),t("h3",{attrs:{id:"要素規約"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#要素規約"}},[s._v("#")]),s._v(" 要素規約")]),s._v(" "),t("p",[s._v("Swagger の基本構造は以下の、swagger・info・host・basePath・schemes・paths・definitions から構成される。")]),s._v(" "),t("p",[s._v("要素の並び順は、原則 "),t("a",{attrs:{href:"https://github.com/OAI/OpenAPI-Specification/blob/main/versions/2.0.md",target:"_blank",rel:"noopener noreferrer"}},[s._v("OpenAPI Specification 2.0（Swagger, OAS2）"),t("OutboundLink")],1),s._v(" に記載された順番に記載する。")]),s._v(" "),t("div",{staticClass:"language-yaml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("swagger")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2.0"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("info")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("title")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" サンプルAPI\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" サンプルAPIはシステムにおけるユーザーのアカウント、契約、支払い、注文履歴などを管理できます\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("version")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 1.0.0\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("host")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" api.example.com\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("basePath")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" /v1\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("schemes")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" https\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("consumes")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" application/json\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("produces")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" application/json\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("tags")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" user\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ユーザー\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("paths")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  /users/"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("user_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("/account"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("get")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("tags")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" user\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("summary")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" API"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("001 ユーザーアカウント取得\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ユーザーのアカウント情報を取得します\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("operationId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" getUserAccount\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("parameters")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" user_id\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("in")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" path\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" string\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("pattern")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ^"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("9a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("zA"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("Z_"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token important"}},[s._v("*$")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("minLength")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("maxLength")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("required")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("true")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 登録時に設定されたユーザーID\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("responses")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v('"200"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" OK\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("schema")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("$ref")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"#/definitions/UserAccount"')]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v('"400"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" パラメータ不正\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("schema")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("$ref")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"#/definitions/Error"')]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v('"404"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" リソースが存在しない\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("schema")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("$ref")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"#/definitions/Error"')]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v('"500"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 内部エラー\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("schema")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("$ref")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"#/definitions/Error"')]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("default")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" その他予期せぬエラー\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("schema")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("$ref")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"#/definitions/Error"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("definitions")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("UserAccount")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("required")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("user_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" user_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" account_type"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" register_at"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("properties")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("user_id")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" string\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ユーザーID\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("minLength")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("maxLength")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("example")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 32AB1aaad100eavV\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("user_name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" string\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ユーザー名\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("minLength")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("maxLength")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("128")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("example")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 未来太郎\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("account_type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" string\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" アカウント種別(1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("ゲスト 2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("登録済み 3"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("プレミアム 4"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("管理者)\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("minLength")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("maxLength")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("example")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1"')]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("register_at")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" string\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 登録日時\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("format")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" date"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("time\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("example")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2023-04-01T11:30:45.000Z"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br"),t("span",{staticClass:"line-number"},[s._v("50")]),t("br"),t("span",{staticClass:"line-number"},[s._v("51")]),t("br"),t("span",{staticClass:"line-number"},[s._v("52")]),t("br"),t("span",{staticClass:"line-number"},[s._v("53")]),t("br"),t("span",{staticClass:"line-number"},[s._v("54")]),t("br"),t("span",{staticClass:"line-number"},[s._v("55")]),t("br"),t("span",{staticClass:"line-number"},[s._v("56")]),t("br"),t("span",{staticClass:"line-number"},[s._v("57")]),t("br"),t("span",{staticClass:"line-number"},[s._v("58")]),t("br"),t("span",{staticClass:"line-number"},[s._v("59")]),t("br"),t("span",{staticClass:"line-number"},[s._v("60")]),t("br"),t("span",{staticClass:"line-number"},[s._v("61")]),t("br"),t("span",{staticClass:"line-number"},[s._v("62")]),t("br"),t("span",{staticClass:"line-number"},[s._v("63")]),t("br"),t("span",{staticClass:"line-number"},[s._v("64")]),t("br"),t("span",{staticClass:"line-number"},[s._v("65")]),t("br"),t("span",{staticClass:"line-number"},[s._v("66")]),t("br"),t("span",{staticClass:"line-number"},[s._v("67")]),t("br"),t("span",{staticClass:"line-number"},[s._v("68")]),t("br"),t("span",{staticClass:"line-number"},[s._v("69")]),t("br"),t("span",{staticClass:"line-number"},[s._v("70")]),t("br"),t("span",{staticClass:"line-number"},[s._v("71")]),t("br"),t("span",{staticClass:"line-number"},[s._v("72")]),t("br"),t("span",{staticClass:"line-number"},[s._v("73")]),t("br"),t("span",{staticClass:"line-number"},[s._v("74")]),t("br"),t("span",{staticClass:"line-number"},[s._v("75")]),t("br"),t("span",{staticClass:"line-number"},[s._v("76")]),t("br"),t("span",{staticClass:"line-number"},[s._v("77")]),t("br"),t("span",{staticClass:"line-number"},[s._v("78")]),t("br"),t("span",{staticClass:"line-number"},[s._v("79")]),t("br"),t("span",{staticClass:"line-number"},[s._v("80")]),t("br"),t("span",{staticClass:"line-number"},[s._v("81")]),t("br")])]),t("h3",{attrs:{id:"swagger"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#swagger"}},[s._v("#")]),s._v(" swagger")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("2.0")]),s._v(" 固定とする")])]),s._v(" "),t("h3",{attrs:{id:"info"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#info"}},[s._v("#")]),s._v(" info")]),s._v(" "),t("p",[s._v("info オブジェクトには Web API に関するメタデータを記載する。\n"),t("code",[s._v("title")]),s._v(", "),t("code",[s._v("description")]),s._v(", "),t("code",[s._v("version")]),s._v(" を必須項目とする。")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("フィールド名")]),s._v(" "),t("th",{staticStyle:{"text-align":"center"}},[s._v("必須")]),s._v(" "),t("th",[s._v("記載内容")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("title")]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}},[s._v("○")]),s._v(" "),t("td",[s._v("Web API の総称")])]),s._v(" "),t("tr",[t("td",[s._v("description")]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}},[s._v("○")]),s._v(" "),t("td",[s._v("Web API の簡単な説明")])]),s._v(" "),t("tr",[t("td",[s._v("version")]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}},[s._v("○")]),s._v(" "),t("td",[s._v("OpenAPI ドキュメントのバージョン")])]),s._v(" "),t("tr",[t("td",[s._v("termsOfService")]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}}),s._v(" "),t("td",[s._v("利用規約の URL")])]),s._v(" "),t("tr",[t("td",[s._v("contact")]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}}),s._v(" "),t("td",[s._v("連絡先情報")])]),s._v(" "),t("tr",[t("td",[s._v("license")]),s._v(" "),t("td",{staticStyle:{"text-align":"center"}}),s._v(" "),t("td",[s._v("ライセンス情報")])])])]),s._v(" "),t("h4",{attrs:{id:"title"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#title"}},[s._v("#")]),s._v(" title")]),s._v(" "),t("p",[s._v("WebAPI の総称を記載する。システム名やサービス名 + API のような命名とすることを推奨する。\n例. "),t("code",[s._v("X System API")])]),s._v(" "),t("h4",{attrs:{id:"desctiption"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#desctiption"}},[s._v("#")]),s._v(" desctiption")]),s._v(" "),t("p",[s._v("Web API が提供する機能の概要・想定する利用者やユースケース・制約などを記載する。")]),s._v(" "),t("h4",{attrs:{id:"version"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#version"}},[s._v("#")]),s._v(" version")]),s._v(" "),t("p",[s._v("この API 仕様のドキュメントのバージョンを記載する。アプリケーションのバージョン（git tag やリリースで管理するようなバージョン）とは別である。")]),s._v(" "),t("p",[s._v("本規約の推奨は "),t("code",[s._v("major.minor")]),s._v(" 形式である。 "),t("code",[s._v("0.1")]),s._v("固定で開発を進め、サービスのリリース時に "),t("code",[s._v("1.0")]),s._v(" とし、その後の項目やオプション、パスの追加ごとに "),t("code",[s._v("1.1")]),s._v(" などインクリメントしていく。もし他チームへのドキュメントの頻繁な共有が必要だれば、"),t("code",[s._v("1.0")]),s._v(" のかわりに "),t("code",[s._v("2023.03.26")]),s._v(" といった形式も許容する。")]),s._v(" "),t("h3",{attrs:{id:"host"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#host"}},[s._v("#")]),s._v(" host")]),s._v(" "),t("p",[s._v("OpenAPI 3 系と異なり、 "),t("strong",[s._v("Swagger では複数のホストを指定できない")]),s._v("。そのため host には開発環境（local, develop, staging, production というステージ区別であれば、develop）で用いる IP、ポート番号を指定する。他チームに提供するサンドボックス環境を用意する場合は、そのエンドポイントを指定しても良い。localhost などのローカル開発への向き先変更は、ツール側で対応している事が多く上書き可能なため記載しない。API 定義書は予期せぬタイミングで他チームに展開する必要がしばしばあり、お試しで触っても良い環境があることを示すことで情報量を増やし、円滑なコミュニケーションを促進することを狙いとする。")]),s._v(" "),t("div",{staticClass:"language-yaml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# OK")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("host")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" dev.api.example.com"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("host")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" sandbox.api.example.com"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# NG（ローカル開発で用いる環境を指定する）")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("host")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" localhost"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8001")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# NG（LSUDs向けのWeb API開発では不用意に本番環境を触られたくないときが多く、避けるべきである）")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("host")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" prod.api.example.com"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("h3",{attrs:{id:"basepath"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#basepath"}},[s._v("#")]),s._v(" basePath")]),s._v(" "),t("p",[s._v("作成する Swagger 定義の URL パスの全てで、共通するプレフィックスを持つ場合に指定する。Swagger の仕様上、先頭には "),t("code",[s._v("/")]),s._v(" が必須であるため、以下のように定義する。")]),s._v(" "),t("div",{staticClass:"language-yaml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# OK")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("basePath")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" /v1\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("basePAth")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" /api/v2\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# NG")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("basePath")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" v2\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h3",{attrs:{id:"schemes"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#schemes"}},[s._v("#")]),s._v(" schemes")]),s._v(" "),t("p",[s._v("最終的に利用するスキーマのみを記載する。通常、HTTP 通信での Web API 提供は行わないと考えられるため、 "),t("code",[s._v("https")]),s._v(" 固定で設定する。ローカル開発では "),t("code",[s._v("http")]),s._v(" を指定することも多いが、ツールで生成されたコードのオプションで通常書き換えが可能なため、"),t("code",[s._v("http")]),s._v(" の併記は許可しない。ただし、サーバサイドのマイクロサービス同士の通信で、VPC（プライベートセグメント）内であり、SSL 通信を本当に利用しない場合は "),t("code",[s._v("http")]),s._v(" と記載する。")]),s._v(" "),t("div",{staticClass:"language-yaml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# OK")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("schemes")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" https\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# NG（httpの指定は通常、Web APIサーバアプリケーションの開発時を除いて不要であるためわざわざ追加しない）")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("schemes")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" http\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" https\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[s._v("もし、WebSocket スキームを提供するサービスの定義である場合は、"),t("code",[s._v("wss")]),s._v(" を（追加で）指定する。定義上は "),t("code",[s._v("https")]),s._v(" 側との共存ができないため、ファイル定義を分けるようにする。")]),s._v(" "),t("h3",{attrs:{id:"security-securitydefinitions"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#security-securitydefinitions"}},[s._v("#")]),s._v(" security, securityDefinitions")]),s._v(" "),t("p",[s._v("Swagger では、次の認証タイプを記載できる（"),t("a",{attrs:{href:"https://swagger.io/docs/specification/2-0/authentication/",target:"_blank",rel:"noopener noreferrer"}},[s._v("詳細"),t("OutboundLink")],1),s._v("）。")]),s._v(" "),t("ol",[t("li",[s._v("ベーシック認証")]),s._v(" "),t("li",[s._v("API キー（リクエストヘッダ, クエリパラメータ）")]),s._v(" "),t("li",[s._v("OAuth2")])]),s._v(" "),t("p",[s._v("もし、認証が必須であれば記載する。全ての Web API で未認証を受け入れる場合は記載しない。認証の要否が API ごとに異なる場合は、各 API 側で "),t("code",[s._v("security: []")]),s._v(" と記載しして上書き定義する必要がある。")]),s._v(" "),t("div",{staticClass:"language-yaml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# OK")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("securityDefinitions")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("OAuth2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" oauth2\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("flow")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" accessCode\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("authorizationUrl")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" https"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("//example.com/authorize\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("tokenUrl")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" https"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("//example.com/.well"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("known/jwks.json\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# OK（OAuth2認証ありの場合）")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("paths")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  /users/"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("user_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("/account"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("get")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("...")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("security")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 認証が不要な場合は security: [] と記載する")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("OAuth2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("h3",{attrs:{id:"produces"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#produces"}},[s._v("#")]),s._v(" produces")]),s._v(" "),t("p",[s._v("Web API が応答する際の MIME タイプを指定します。未指定の場合に、コード生成などツール側で予期しない動作をすることがあるため、固定で指定する。新規構築の Web API であれば "),t("code",[s._v("application/xml")]),s._v(" は不要と通常は考えられるので、"),t("code",[s._v("application/json")]),s._v(" を記載する。また、"),t("a",{attrs:{href:"https://www.rfc-editor.org/rfc/rfc7807",target:"_blank",rel:"noopener noreferrer"}},[s._v("RFC 7807 Problem Details for HTTP APIs"),t("OutboundLink")],1),s._v(" では Content-Type に "),t("code",[s._v("application/problem+json")]),s._v(" を設定するとあるが、一部のコード生成ツールにおいて、 "),t("code",[s._v("application/problem")]),s._v(" と "),t("code",[s._v("application/problem+json")]),s._v(" の使い分けが難しいため、併記を必須としない。OpenAPI Specification の 3 系ではステータスコードごとに Content-Type を指定できるため、3 系への移行も検討する。")]),s._v(" "),t("div",{staticClass:"language-yaml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# OK（applicaton/problem+json 無しでも良い）")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("produces")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" application/json\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# OK（利用するツールで複数のContent-Typeの使い分けが実現しやすい場合は以下でも良い）")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("produces")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" application/json\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" application/problem+json\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[s._v("ある API のみ、バイナリ（画像データなど）を返すなどのケースがあれば、 "),t("code",[s._v("paths")]),s._v(" 配下で上書き指定する。")]),s._v(" "),t("div",{staticClass:"language-yaml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("paths")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("/logo")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("get")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("summary")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" API"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("002 ロゴ画像を取得する\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" サービスのロゴ画像をpng形式で取得します\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("operationId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" getLogoImage\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("produces")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" image/png\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("responses")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v('"200"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" OK\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("schema")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" file\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])]),t("h3",{attrs:{id:"consumes"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#consumes"}},[s._v("#")]),s._v(" consumes")]),s._v(" "),t("p",[s._v("Web API が要求を受け入れる際の MIME タイプを指定する。未指定の場合に、コード生成などツール側で予期しない動作をすることがあるため、固定で指定する。新規構築の Web API であれば "),t("code",[s._v("application/xml")]),s._v(" は不要と通常は考えらえるので、"),t("code",[s._v("application/json")]),s._v(" だけ記載する。")]),s._v(" "),t("p",[s._v("仕様上、 "),t("code",[s._v("consumes")]),s._v(" は POST, PUT, PATCH を利用した操作のみに影響し、GET などリクエストボディが無い操作では無視される。")]),s._v(" "),t("div",{staticClass:"language-yaml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# OK")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("consumes")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" application/json\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h3",{attrs:{id:"tags"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tags"}},[s._v("#")]),s._v(" tags")]),s._v(" "),t("p",[s._v("タグを用いて、API 操作をグループ化することができる。ドキュメントやツールにとって非常に重要であるため、 "),t("strong",[s._v("必須")]),s._v(" で指定する。")]),s._v(" "),t("ul",[t("li",[s._v("Swagger UI（HTML ドキュメント）の順序を制御できる\n"),t("ul",[t("li",[s._v("未指定の場合は、登場順で生成されてしまう")])])]),s._v(" "),t("li",[s._v("命名は、 "),t("strong",[s._v("単数形")]),s._v(" で、小文字かつ半角スペース区切り で記載する\n"),t("ul",[t("li",[s._v("コード生成で利用され、Go ではパッケージ名や TypeScript の Class 単位となるため、シンプルな命名にする")]),s._v(" "),t("li",[s._v("HTML ドキュメントで参照する場合の可読性を上げるため、単語を半角スペース区切りとする")])])]),s._v(" "),t("li",[s._v("タグごとに "),t("code",[s._v("description")]),s._v(" も必須で記載する")])]),s._v(" "),t("div",{staticClass:"language-yaml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# NG")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("tags")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" product\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 製品\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" store\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 店舗\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" user account\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ユーザーアカウント\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# NG")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("tags")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" products\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" stores\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" user_account\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" UserAccount\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br")])]),t("h3",{attrs:{id:"paths"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#paths"}},[s._v("#")]),s._v(" paths")]),s._v(" "),t("p",[t("code",[s._v("paths")]),s._v(" 配下に個々の API エンドポイントを記載する。")]),s._v(" "),t("p",[t("code",[s._v("paths")]),s._v(" は根幹となる定義部分であり、以下のように重要な定義が続く。それぞれ重要な要素ごとに規約を示す。")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("Paths              "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# API定義全体")]),s._v("\n  └ Path           "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# URLパス")]),s._v("\n    └ Operation    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# HTTPメソッド")]),s._v("\n      ├ Parameter  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# リクエストパラメータ")]),s._v("\n      └ Responses  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# レスポンス")]),s._v("\n        └ Response "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ステータスコードに応じたレスポンス")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br")])]),t("h4",{attrs:{id:"paths-path"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#paths-path"}},[s._v("#")]),s._v(" Paths > Path")]),s._v(" "),t("p",[s._v("記載順は以下のルールである。")]),s._v(" "),t("ul",[t("li",[s._v("トップレベルの "),t("code",[s._v("tags")]),s._v(" でグルーピングした順番に記載する")]),s._v(" "),t("li",[s._v("URL は短いものから並べる")]),s._v(" "),t("li",[s._v("HTTP メソッドは、 head, get, post, put, patch, delete の順にする")])]),s._v(" "),t("div",{staticClass:"language-yaml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 並び順の例（HTTPメソッドの子要素はtags以外を省略）")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("tags")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" user\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" item\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("paths")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("/users")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("get")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("tags")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" user\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("...")]),s._v("\n  /users/"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("user_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("/account"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("get")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("tags")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" user\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("...")]),s._v("\n  /users/"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("user_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("/account"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("patch")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("tags")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" user\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("...")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("/items")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("get")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("tags")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" item\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("...")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br")])]),t("h4",{attrs:{id:"paths-path-operation"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#paths-path-operation"}},[s._v("#")]),s._v(" Paths > Path > Operation")]),s._v(" "),t("p",[s._v("URL に紐づく HTTP メソッドで、1 つの操作を定義します。")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("summary")]),s._v(" "),t("ul",[t("li",[s._v("API の操作概要を summary に記載する")]),s._v(" "),t("li",[s._v("機能 ID があるのでれば、ここに記載する")]),s._v(" "),t("li",[s._v("例: "),t("code",[s._v("API-001 ユーザアカウント取得")])])])]),s._v(" "),t("li",[t("code",[s._v("description")]),s._v(" "),t("ul",[t("li",[s._v("API の振る舞いの詳細や注意点（ある条件で区分の値が変わったり、権限についての注意、要素が空になるなど）を記載する")])])]),s._v(" "),t("li",[t("code",[s._v("operationId")]),s._v(" "),t("ul",[t("li",[s._v("コード生成で利用される項目なので、必須で指定する")]),s._v(" "),t("li",[s._v("原則、"),t("code",[s._v("camelCase")]),s._v(" の "),t("code",[s._v("${HTTPメソッド}${機能物理名}")]),s._v(" で記載する（例: getUser, postUser, deleteUser）\n"),t("ul",[t("li",[s._v("ただし、HTTP メソッドに紐づかない操作であれば、HTTP メソッドの代わりに個別の動詞（例: searchUser, moveItemList, addPermission）を当てはめる")]),s._v(" "),t("li",[s._v("コード生成対象によっては、get_user（Python）、GetUser（Go）といった命名規約にしたくなるが、通常はコード生成側で配慮してくれる")])])])])]),s._v(" "),t("li",[t("code",[s._v("consumes")]),s._v(", "),t("code",[s._v("produces")]),s._v(" "),t("ul",[t("li",[s._v("トップレベルに "),t("code",[s._v("application/json")]),s._v(" を記載しているため、同様であれば記載しない")])])])]),s._v(" "),t("div",{staticClass:"language-yaml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("/users")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("get")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("tags")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" user\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("summary")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" API"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("001 ユーザーアカウント取得\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token scalar string"}},[s._v("\n      ユーザーのアカウント情報を取得します。\n      ログイン情報が不正の場合はアカウントが存在しても404を返すことがあります。\n      アカウント種別については【別紙】X_定数一覧 を参照ください。")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("operationId")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" getUser\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("parameters")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("...")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("responses")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("...")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("h4",{attrs:{id:"paths-path-parameter"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#paths-path-parameter"}},[s._v("#")]),s._v(" Paths > Path > Parameter")]),s._v(" "),t("p",[s._v("リクエストの定義を記載する。")]),s._v(" "),t("ul",[t("li",[t("p",[t("code",[s._v("name")])]),s._v(" "),t("ul",[t("li",[t("code",[s._v("snake_case")]),s._v(" で物理名を記載します")]),s._v(" "),t("li",[s._v("HTTP メソッドが POST/PUT/HTTP の場合は "),t("code",[s._v("body")]),s._v(" に固定する")])])]),s._v(" "),t("li",[t("p",[t("code",[s._v("in")])]),s._v(" "),t("ul",[t("li",[s._v("仕様上、必須で "),t("code",[s._v("query")]),s._v(", "),t("code",[s._v("header")]),s._v(", "),t("code",[s._v("path")]),s._v(", "),t("code",[s._v("formData")]),s._v(", "),t("code",[s._v("body")]),s._v(" のどれかを指定する")]),s._v(" "),t("li",[s._v("HTTP メソッドが HEAD/GET/DELETE の場合\n"),t("ul",[t("li",[t("code",[s._v("path")]),s._v(", "),t("code",[s._v("query")]),s._v(" のみの利用を推奨する")])])]),s._v(" "),t("li",[s._v("HTTP メソッドが POST/PUT/HTTP の場合\n"),t("ul",[t("li",[t("code",[s._v("body")]),s._v(" のみの利用を推奨する")])])])])]),s._v(" "),t("li",[t("p",[t("code",[s._v("required")])]),s._v(" "),t("ul",[t("li",[s._v("必須の場合のみ記載する。デフォルト false であるため、任意項目の場合は記載しない")]),s._v(" "),t("li",[s._v("POST, PUT で用いるリクエストボディに対しては、 "),t("code",[s._v("required: true")]),s._v(" を必ず指定する\n"),t("ul",[t("li",[s._v("リクエストボディ自体が未指定だった場合、各項目の "),t("code",[s._v("required: true")]),s._v(" を指定していてもサーバサイドのチェックが有効に働かないことがあるため")])])])])]),s._v(" "),t("li",[t("p",[t("code",[s._v("pattern")]),s._v(", "),t("code",[s._v("minLength")]),s._v(", "),t("code",[s._v("maxLength")]),s._v(" などの条件について")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://github.com/OAI/OpenAPI-Specification/blob/main/versions/2.0.md#fixed-fields-7",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://github.com/OAI/OpenAPI-Specification/blob/main/versions/2.0.md#fixed-fields-7"),t("OutboundLink")],1),s._v(" を参考に、指定できる条件はなるべく細かく指定する")])])]),s._v(" "),t("li",[t("p",[t("code",[s._v("schema")])]),s._v(" "),t("ul",[t("li",[s._v("リクエストボディは、"),t("code",[s._v("$ref")]),s._v(" を用いて、"),t("code",[s._v("#/definitions")]),s._v(" 配下に記載する。"),t("strong",[s._v("$ref を用いない記載は許可しない。")])])]),s._v(" "),t("div",{staticClass:"language-yaml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[s._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# OK")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" body\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("in")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" body\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("required")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("true")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("schema")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("$ref")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"#/definitions/PutUserAccount"')]),s._v("\n\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# NG")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" body\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("in")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" body\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("required")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("true")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" object\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("required")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("user_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" account_type"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" register_at"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" point"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("properties")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("user_name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" string\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("...")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("account_type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" string\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("...")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br")])]),t("ul",[t("li",[s._v("モデル名は、 "),t("code",[s._v("{HTTPメソッド名}{物理名}")]),s._v(" の PascalCase で記載する\n"),t("ul",[t("li",[s._v("例: PutUserAccount、PostUserAccount, PatchUserAccount")])])])])]),s._v(" "),t("li",[t("p",[t("code",[s._v("desription")])]),s._v(" "),t("ul",[t("li",[s._v("項目の論理名や補足説明を記載する")])])])]),s._v(" "),t("div",{staticClass:"language-yaml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[s._v("  /users/"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("user_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("/account"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("get")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("...")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("parameters")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" user_id\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("in")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" path\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" string\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("pattern")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ^"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("9a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("zA"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("Z_"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token important"}},[s._v("*$")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("minLength")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("maxLength")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("required")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("true")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 登録時に設定されたユーザーID\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("responses")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("...")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("put")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("...")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("parameters")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" user_id\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("in")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" path\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" string\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("pattern")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ^"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("9a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("zA"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("Z_"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token important"}},[s._v("*$")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("minLength")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("maxLength")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("required")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("true")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 登録時に設定されたユーザーID\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" body\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("in")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" body\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("required")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("true")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("schema")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("$ref")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"#/definitions/PutUserAccount"')]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("responses")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("...")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br")])]),t("h4",{attrs:{id:"paths-path-responses"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#paths-path-responses"}},[s._v("#")]),s._v(" Paths > Path > Responses")]),s._v(" "),t("p",[s._v("レスポンスの定義を記載する。")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("description")]),s._v(" "),t("ul",[t("li",[s._v("必須で記載する")])])]),s._v(" "),t("li",[s._v("ステータスコードは発生し得る全てのパターンを列挙する\n"),t("ul",[t("li",[s._v("正常系の "),t("code",[s._v("200 OK")]),s._v("、 "),t("code",[s._v("201 Created")]),s._v("、"),t("code",[s._v("202 Accepted")]),s._v(" "),t("code",[s._v("204 No Content")]),s._v(" 以外の、異常系も忘れず記載する")]),s._v(" "),t("li",[s._v("通常発生しない、サーバサイドの内部的な予期せぬエラー "),t("code",[s._v("500 Internal Server Error")]),s._v(" は必須で記載する")]),s._v(" "),t("li",[s._v("リクエストパラメータが存在する場合は "),t("code",[s._v("400 Bad Request")]),s._v(" が、認証がある場合は "),t("code",[s._v("401 Unauthorized")]),s._v(" や "),t("code",[s._v("403 Forbiddend")]),s._v(" が考えられる")]),s._v(" "),t("li",[t("code",[s._v("default")]),s._v(" は必須で指定する\n"),t("ul",[t("li",[s._v("例えば、URL 自体が存在しない場合の "),t("code",[s._v("404 NotFound")]),s._v(" や、提供していない HTTP メソッドを呼び出した場合に "),t("code",[s._v("405 Method Not Allowed")]),s._v(" を、自動生成したサーバサイドの実装が返すことがある。この場合、 "),t("code",[s._v("default")]),s._v(" を指定していないとフロントエンド側でパースエラーとなることがあるため。各 API エンドポイントのサーバサイド側の実装が応答しないコードは、 "),t("code",[s._v("default")]),s._v(" でまとめて指定させる")])])])])])]),s._v(" "),t("div",{staticClass:"language-yaml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[s._v("  /users/"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("user_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("/account"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("get")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("...")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("parameters")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("...")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("responses")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v('"200"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" OK\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("schema")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("$ref")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"#/definitions/Users"')]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v('"400"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" パラメータ不正\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("schema")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("$ref")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"#/definitions/Error"')]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v('"404"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" リソースが存在しない\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("schema")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("$ref")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"#/definitions/Error"')]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v('"500"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 内部エラー\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("schema")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("$ref")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"#/definitions/Error"')]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("default")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" その他予期せぬエラー\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("schema")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("$ref")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"#/definitions/Error"')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("post")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("...")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("parameters")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("...")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("responses")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v('"201"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 新規登録に成功\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("schema")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("$ref")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"#/definitions/UserAccount"')]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v('"400"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" パラメータ不正\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("schema")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("$ref")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"#/definitions/Error"')]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v('"409"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" すでに登録済みのユーザーIDを用いている\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("schema")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("$ref")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"#/definitions/Error"')]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v('"500"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Internal Server Error\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("schema")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("$ref")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"#/definitions/Error"')]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("default")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"その他予期せぬエラー"')]),s._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("schema")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("$ref")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"#/definitions/Error"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br"),t("span",{staticClass:"line-number"},[s._v("50")]),t("br"),t("span",{staticClass:"line-number"},[s._v("51")]),t("br")])]),t("h3",{attrs:{id:"definitions"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#definitions"}},[s._v("#")]),s._v(" definitions")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("モデル名は、PascalCase で記載する")])]),s._v(" "),t("li",[t("p",[s._v("種別が配列の場合、ネストして定義するのではなく、 "),t("code",[s._v("$ref")]),s._v(" を活用する")])]),s._v(" "),t("li",[t("p",[s._v("もし、リソース名が単複同形で "),t("code",[s._v("type: array")]),s._v(" と区別できない場合、 "),t("code",[s._v("List")]),s._v(" を末尾に付けて区別する")]),s._v(" "),t("ul",[t("li",[s._v("そうではない場合は "),t("code",[s._v("s")]),s._v(" を付けて表現する")])]),s._v(" "),t("div",{staticClass:"language-yml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# OK")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("in")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" query\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" product_types\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" array\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" プロダクト種別\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# NG")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("in")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" query\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" product_type_list "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# xxx_listはNG")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" array\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" プロダクト種別\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])])]),s._v(" "),t("li",[t("p",[s._v("リクエストボディ")]),s._v(" "),t("ul",[t("li",[s._v("必須項目は "),t("code",[s._v("required")]),s._v(" で項目を全て指定する")]),s._v(" "),t("li",[s._v("その他、項目定義として可能であればできる限り細かく指定する")])])]),s._v(" "),t("li",[t("p",[s._v("レスポンスボディ")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("type")]),s._v(", "),t("code",[s._v("description")]),s._v(", "),t("code",[s._v("example")]),s._v("が必須。")]),s._v(" "),t("li",[t("code",[s._v("format")]),s._v(", "),t("code",[s._v("minLength")]),s._v(", "),t("code",[s._v("maxLength")]),s._v(" などの型桁はできる限り細かく指定する\n"),t("ul",[t("li",[s._v("多くのクライアントは RDB をデータストアに持ち、それらの型定義の参考にするためである")])])]),s._v(" "),t("li",[t("code",[s._v("enum")]),s._v(" は "),t("strong",[s._v("指定してはならない")]),s._v(" "),t("ul",[t("li",[s._v("一部のクライアント側のコード生成で、存在しない区分値を指定するとエラーになる（レスポンスを受信できない）。これはサーバサイドで区分値を増やす必要があるケースで、サーバ・クライアントの同期をとる必要があり困難なケースが多い。例えばクライアントがモバイルである場合、サーバサイドで区分値を追加した場合には、全端末でアプリアップデートが必要となリ、事実上 API 互換性がなくなるため、v1 を保持しつつ、区分値を追加した v2 の Path を追加する必要が出てくる")])])]),s._v(" "),t("li",[t("code",[s._v("pattern")]),s._v(" の指定は不要\n"),t("ul",[t("li",[t("code",[s._v("pattern")]),s._v(" も enum と同様に、サーバサイドが当初よりリクエストのバリデーションを緩めた場合に、古い "),t("code",[s._v("pattern")]),s._v(" でクライアントがレスポンスを検証すると動作しなくなるため。クライアントサイドが RDB など書き込み時のスキーマが厳密であったとしても、正規表現レベルの厳格さで書き込みチェックをすることは無いと考えられる")])])]),s._v(" "),t("li",[t("code",[s._v("example")]),s._v(" の値は、 例えば Prism でサーバのモックとして動かす場合に返される値になるため、できる限り具体的な値にする")]),s._v(" "),t("li",[s._v("空文字、false, 0 値を返しうる項目に、"),t("code",[s._v("x-omitempty :false")]),s._v(" を付与する\n"),t("ul",[t("li",[s._v("ツールの実装によっては、0 値や false を返した場合に JSON フィールドから除外される（omit される）ことがある")])])])])]),s._v(" "),t("li",[t("p",[s._v("日付は "),t("code",[s._v("2023-04-02")]),s._v(" といった ISO 8601 date フォーマットを推奨する。この場合は "),t("code",[s._v("fromat: date")]),s._v(" を指定する")])]),s._v(" "),t("li",[t("p",[s._v("日時は "),t("code",[s._v("2023-04-02T15:04:05+09:00")]),s._v(" といった ISO 8601 datetime フォーマットを推奨する。この場合は、 "),t("code",[s._v("format: date-time")]),s._v(" を指定する")])]),s._v(" "),t("li",[t("p",[s._v("エラーについて")]),s._v(" "),t("ul",[t("li",[s._v("API 全体で一貫したエラーを返すことを推奨とし、そのために "),t("code",[s._v('"#/definitions/Error"')]),s._v(" といった共通のエラーモデルを利用を推奨する")]),s._v(" "),t("li",[t("a",{attrs:{href:"https://www.rfc-editor.org/rfc/rfc7807",target:"_blank",rel:"noopener noreferrer"}},[s._v("RFC 7807 Problem Details for HTTP APIs"),t("OutboundLink")],1),s._v(" があるため、レイアウトを参考にする")])])])]),s._v(" "),t("div",{staticClass:"language-yaml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("definitions")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("UserAccounts")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" array\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("items")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("$ref")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"#/definitions/UserAccount"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("UserAccount")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("required")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("user_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" user_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" account_type"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" register_at"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" point"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("properties")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("user_id")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" string\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ユーザーID\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("minLength")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("maxLength")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("example")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 32AB1aaad100eavV\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("user_name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" string\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ユーザー名\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("minLength")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("maxLength")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("128")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("example")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 未来太郎\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("account_type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# enumは指定しないこと")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" string\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" アカウント種別(1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("ゲスト 2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("登録済み 3"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("プレミアム 4"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("管理者)\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("minLength")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("maxLength")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("example")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1"')]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("register_at")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" string\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("format")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" date"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("time\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 登録日時\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("example")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2023-04-01T11:30:45.000Z"')]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("point")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" integer\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("format")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" int64\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ポイント（0ポイント以上）\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("exampe")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("421")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("PostUserAccount")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("required")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("user_id"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" user_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" account_type"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" register_at"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("properties")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("user_id")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" string\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("minLength")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("maxLength")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("pattern")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ^"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("0"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("9a"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("zA"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("Z_"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token important"}},[s._v("*$")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ユーザーID\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("example")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 32AB1aaad100eavV\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("user_name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" string\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("minLength")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("maxLength")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("128")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ユーザー名\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("example")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 未来太郎\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("account_type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" string\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("minLength")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("maxLength")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("enum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"4"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" アカウント種別(1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("ゲスト 2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("登録済み 3"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("プレミアム 4"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("管理者)\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("example")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1"')]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("register_at")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" string\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("format")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" date"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("time\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 登録日時\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("example")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2023-04-01T11:30:45.000Z"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("Error")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" エラー (RFC 7807)\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" object\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("required")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("title"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" status"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" detail"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("properties")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("title")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" string\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" タイトル\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("minLength")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("maxLength")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("example")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" request validation error\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("status")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" integer\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("format")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" int32\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" HTTPステータスコード\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("minimum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("400")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("maximum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("600")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("exclusiveMaximum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[s._v("true")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("example")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("503")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("message_cd")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" string\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 状態の切り分けとアクションが一意に特定できるメッセージコード\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("minLength")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("maxLength")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("16")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("example")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" APPERR"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0001")]),s._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("detail")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" string\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" エラーメッセージ詳細\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("minLength")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("maxLength")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("128")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("example")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" user name is too long\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br"),t("span",{staticClass:"line-number"},[s._v("50")]),t("br"),t("span",{staticClass:"line-number"},[s._v("51")]),t("br"),t("span",{staticClass:"line-number"},[s._v("52")]),t("br"),t("span",{staticClass:"line-number"},[s._v("53")]),t("br"),t("span",{staticClass:"line-number"},[s._v("54")]),t("br"),t("span",{staticClass:"line-number"},[s._v("55")]),t("br"),t("span",{staticClass:"line-number"},[s._v("56")]),t("br"),t("span",{staticClass:"line-number"},[s._v("57")]),t("br"),t("span",{staticClass:"line-number"},[s._v("58")]),t("br"),t("span",{staticClass:"line-number"},[s._v("59")]),t("br"),t("span",{staticClass:"line-number"},[s._v("60")]),t("br"),t("span",{staticClass:"line-number"},[s._v("61")]),t("br"),t("span",{staticClass:"line-number"},[s._v("62")]),t("br"),t("span",{staticClass:"line-number"},[s._v("63")]),t("br"),t("span",{staticClass:"line-number"},[s._v("64")]),t("br"),t("span",{staticClass:"line-number"},[s._v("65")]),t("br"),t("span",{staticClass:"line-number"},[s._v("66")]),t("br"),t("span",{staticClass:"line-number"},[s._v("67")]),t("br"),t("span",{staticClass:"line-number"},[s._v("68")]),t("br"),t("span",{staticClass:"line-number"},[s._v("69")]),t("br"),t("span",{staticClass:"line-number"},[s._v("70")]),t("br"),t("span",{staticClass:"line-number"},[s._v("71")]),t("br"),t("span",{staticClass:"line-number"},[s._v("72")]),t("br"),t("span",{staticClass:"line-number"},[s._v("73")]),t("br"),t("span",{staticClass:"line-number"},[s._v("74")]),t("br"),t("span",{staticClass:"line-number"},[s._v("75")]),t("br"),t("span",{staticClass:"line-number"},[s._v("76")]),t("br"),t("span",{staticClass:"line-number"},[s._v("77")]),t("br"),t("span",{staticClass:"line-number"},[s._v("78")]),t("br"),t("span",{staticClass:"line-number"},[s._v("79")]),t("br"),t("span",{staticClass:"line-number"},[s._v("80")]),t("br"),t("span",{staticClass:"line-number"},[s._v("81")]),t("br"),t("span",{staticClass:"line-number"},[s._v("82")]),t("br"),t("span",{staticClass:"line-number"},[s._v("83")]),t("br"),t("span",{staticClass:"line-number"},[s._v("84")]),t("br"),t("span",{staticClass:"line-number"},[s._v("85")]),t("br"),t("span",{staticClass:"line-number"},[s._v("86")]),t("br"),t("span",{staticClass:"line-number"},[s._v("87")]),t("br"),t("span",{staticClass:"line-number"},[s._v("88")]),t("br"),t("span",{staticClass:"line-number"},[s._v("89")]),t("br"),t("span",{staticClass:"line-number"},[s._v("90")]),t("br"),t("span",{staticClass:"line-number"},[s._v("91")]),t("br"),t("span",{staticClass:"line-number"},[s._v("92")]),t("br"),t("span",{staticClass:"line-number"},[s._v("93")]),t("br"),t("span",{staticClass:"line-number"},[s._v("94")]),t("br"),t("span",{staticClass:"line-number"},[s._v("95")]),t("br")])]),t("h3",{attrs:{id:"バリデーションについて"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#バリデーションについて"}},[s._v("#")]),s._v(" バリデーションについて")]),s._v(" "),t("p",[s._v("OpenAPI 定義を記載するにあたり、バリデーションをどこまで厳密に定義すべきかという議論はよく行いがちである。")]),s._v(" "),t("p",[s._v("リクエストパラメータの各項目に対して、必須・型・桁・区分値・日付・正規表現のチェックが行える。レスポンスで用いるモデルについても同様に設定でき、"),t("code",[s._v("enum")]),s._v(", "),t("code",[s._v("pattern")]),s._v(" 以外は API の利用者（クライアント）側の DB 設計などに必要な型桁情報を渡すのに有用であるため、できる限り詳しく指定する。")]),s._v(" "),t("h4",{attrs:{id:"必須"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#必須"}},[s._v("#")]),s._v(" 必須")]),s._v(" "),t("p",[s._v("必須パラメータのみ "),t("code",[s._v("required: true")]),s._v(" を定義する")]),s._v(" "),t("h4",{attrs:{id:"デフォルト値"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#デフォルト値"}},[s._v("#")]),s._v(" デフォルト値")]),s._v(" "),t("p",[s._v("パラメータにデフォルト値がある場合は"),t("code",[s._v("default")]),s._v(" を定義する。")]),s._v(" "),t("div",{staticClass:"language-yaml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ex. enum")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" limit\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" number\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("format")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" integer\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("minimum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("maximum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("100")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("default")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 検索結果の項目数上限（1~100が指定可能）\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[s._v("【注意】API 公開後に、default 値を変更してはならない（API の互換性が崩れるため）。もし変更する場合は、API のバージョンを上げること。")]),s._v(" "),t("h4",{attrs:{id:"型・フォーマット"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#型・フォーマット"}},[s._v("#")]),s._v(" 型・フォーマット")]),s._v(" "),t("p",[s._v("型（"),t("code",[s._v("type")]),s._v("）は "),t("code",[s._v("string(文字列)")]),s._v(", "),t("code",[s._v("number（数値）")]),s._v(", "),t("code",[s._v("integer（整数値）")]),s._v(", "),t("code",[s._v("boolean（真偽値）")]),s._v(" "),t("code",[s._v("array（配列）")]),s._v(", "),t("code",[s._v("file（ファイル）")]),s._v(" のうちどれか指定する.")]),s._v(" "),t("p",[s._v("フォーマット（"),t("code",[s._v("format")]),s._v("） は以下の型の詳細情報を示すもので、可能な限り設定する。")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("integer")]),s._v(" （整数）\n"),t("ul",[t("li",[t("code",[s._v("int32")]),s._v(", "),t("code",[s._v("int64")])])])]),s._v(" "),t("li",[t("code",[s._v("number")]),s._v(" （数値）\n"),t("ul",[t("li",[t("code",[s._v("float")]),s._v(", "),t("code",[s._v("double")])])])]),s._v(" "),t("li",[t("code",[s._v("string")]),s._v(" （バイナリ）\n"),t("ul",[t("li",[t("code",[s._v("byte")]),s._v(": Base64 でエンコードされた文字列")]),s._v(" "),t("li",[t("code",[s._v("binary")]),s._v(": バイト配列")])])]),s._v(" "),t("li",[t("code",[s._v("string")]),s._v(" （日付）\n"),t("ul",[t("li",[t("code",[s._v("date")]),s._v(": "),t("a",{attrs:{href:"https://www.rfc-editor.org/rfc/rfc3339",target:"_blank",rel:"noopener noreferrer"}},[s._v("RFC3339"),t("OutboundLink")],1),s._v(" full-date(例: 2023-07-21)\n"),t("ul",[t("li",[s._v("項目名は "),t("code",[s._v("_on")]),s._v(" を接尾辞につけることを推奨とする")])])]),s._v(" "),t("li",[t("code",[s._v("date-time")]),s._v(": "),t("a",{attrs:{href:"https://www.rfc-editor.org/rfc/rfc3339",target:"_blank",rel:"noopener noreferrer"}},[s._v("RFC3339"),t("OutboundLink")],1),s._v(" date-time(例: 2023-07-21T17:32:28Z)\n"),t("ul",[t("li",[s._v("項目名は "),t("code",[s._v("_at")]),s._v(" を接尾辞につけることを推奨とする")])])])])]),s._v(" "),t("li",[t("code",[s._v("string")]),s._v(" （その他）\n"),t("ul",[t("li",[t("code",[s._v("password")]),s._v(": Swagger UI で入力が隠される")]),s._v(" "),t("li",[s._v("その他、 "),t("code",[s._v("email")]),s._v(", "),t("code",[s._v("uuid")]),s._v(" など Open API 仕様に存在しない任意のフォーマットを独自のドキュメント生成などのために記載しても良い")])])])]),s._v(" "),t("h4",{attrs:{id:"桁"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#桁"}},[s._v("#")]),s._v(" 桁")]),s._v(" "),t("p",[s._v("データ型によって、利用できる桁を指定する項目が異なる。可能な限り設定する。")]),s._v(" "),t("ul",[t("li",[s._v("文字列\n"),t("ul",[t("li",[s._v("最大桁数："),t("code",[s._v("maxLength")])]),s._v(" "),t("li",[s._v("最小桁数："),t("code",[s._v("minLength")])])])]),s._v(" "),t("li",[s._v("数値または整数値\n"),t("ul",[t("li",[s._v("最小値（境界値を含む）："),t("code",[s._v("minimum")])]),s._v(" "),t("li",[s._v("最大値（境界値を含む）："),t("code",[s._v("maximum")])]),s._v(" "),t("li",[s._v("境界値を含まない場合のみ"),t("code",[s._v("exclusiveMinimum: true")]),s._v("または"),t("code",[s._v("exclusiveMaximum: true")]),s._v("を定義する。minimum, maximum で代用できる場合は利用しない")])])]),s._v(" "),t("li",[s._v("配列:\n"),t("ul",[t("li",[s._v("最大要素数："),t("code",[s._v("maxItems")])]),s._v(" "),t("li",[s._v("最小要素数："),t("code",[s._v("minItems")])]),s._v(" "),t("li",[t("code",[s._v("required: true")]),s._v("の場合は原則として"),t("code",[s._v("minItems: 1")]),s._v("を定義する")]),s._v(" "),t("li",[t("code",[s._v("uniqueItems")]),s._v(" は必須で指定する（通常は一意であるべき）")])])])]),s._v(" "),t("p",[s._v("【注意】API 公開後に、レスポンスの "),t("code",[s._v("maxLength")]),s._v(" を以前より大きい値に変更してはならない。レスポンスの "),t("code",[s._v("maxLength")]),s._v(" など API 利用者側システムの DB の ERD 定義のインプットになる事が多いため。もし行う場合は API のバージョンを上げることや、連携先に桁数変更の旨を調整するなどの考慮を行う。")]),s._v(" "),t("h4",{attrs:{id:"区分値"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#区分値"}},[s._v("#")]),s._v(" 区分値")]),s._v(" "),t("p",[s._v("区分値の場合は "),t("code",[s._v("enum")]),s._v(" 属性を利用し、"),t("code",[s._v("description")]),s._v("には区分値の論理名を記載する。")]),s._v(" "),t("div",{staticClass:"language-yaml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" gender\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" string\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("enum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"9"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token scalar string"}},[s._v("\n  性別\n    0: 不明\n    1: 男\n    2: 女\n    9: 適用不能")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("h4",{attrs:{id:"固定値"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#固定値"}},[s._v("#")]),s._v(" 固定値")]),s._v(" "),t("p",[t("strong",[s._v("固定値")]),s._v(" の場合も enum を 1 つだけ指定して表現する。この場合もレスポンスで利用する場合は指定しない")]),s._v(" "),t("div",{staticClass:"language-yaml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" file_layout\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" string\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("enum")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"json"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ファイルレイアウト\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h4",{attrs:{id:"その他-正規表現"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#その他-正規表現"}},[s._v("#")]),s._v(" その他（正規表現）")]),s._v(" "),t("p",[s._v("正規表現で表現できる文字列は"),t("code",[s._v("pattern")]),s._v("を利用して定義する。桁や区分値で代替できる場合は、"),t("code",[s._v("pattern")]),s._v(" を用いない")]),s._v(" "),t("p",[s._v("例:")]),s._v(" "),t("div",{staticClass:"language-yaml line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("remind_time")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" string\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("description")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" リマインド時刻。（hh"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("mm）形式\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("example")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token datetime number"}},[s._v("23:59")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("pattern")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^(2[0-3]|[01][0-9]):([0-5][0-9])$"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h3",{attrs:{id:"ファイルアップロード"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ファイルアップロード"}},[s._v("#")]),s._v(" ファイルアップロード")]),s._v(" "),t("p",[s._v("Web API におけるファイルアップロードのよく利用される実装手段は、大きく分けて以下の 3 手法に分類できます")]),s._v(" "),t("ol",[t("li",[s._v("ファイルのコンテンツを Base64 などにエンコードして、JSON の項目として設定し、リクエストボディで送る\n"),t("ul",[t("li",[s._v("メリット: 通常の JSON を扱うのとほぼ変わらないため楽。サムネイルなど限定されたユースケースの場合に向く")]),s._v(" "),t("li",[s._v("デメリット: 巨大なファイルを扱う場合などサーバリソース負荷が懸念。Base64 に変換する分 CPU 負荷は余計にかかる。ペイロードが膨れるためモバイルなどのクライアントでは帯域利用での懸念がある")])])]),s._v(" "),t("li",[s._v("multipart/form-data ファイルを送信する\n"),t("ul",[t("li",[s._v("メリット: ファイルを Base64 に変換するといった作業が不要")]),s._v(" "),t("li",[s._v("デメリット: ブラウザ以外のクライアントにとって手間がかかる")])])]),s._v(" "),t("li",[s._v("アップロード用に用いる、オブジェクトストレージの Signed URL を発行し、クライアントから直接ファイルをアップロードしてもらう\n"),t("ul",[t("li",[s._v("次の流れを想定（Signed URL を取得 -> ファイルアップロード -> ファイルに紐づかせるキーや属性情報などを登録）")]),s._v(" "),t("li",[s._v("Amazon API Gateway を利用する場合は、2023 年 6 月時点で"),t("a",{attrs:{href:"https://docs.aws.amazon.com/apigateway/latest/developerguide/limits.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("ペイロード上限が 10MB"),t("OutboundLink")],1),s._v("、"),t("a",{attrs:{href:"https://docs.aws.amazon.com/ja_jp/lambda/latest/dg/gettingstarted-limits.html#api-requests",target:"_blank",rel:"noopener noreferrer"}},[s._v("AWS Lambda でもペイロード制限がある"),t("OutboundLink")],1),s._v("ため、許容するファイルサイズによってはこの手法一択となる")]),s._v(" "),t("li",[s._v("メリット: オブジェクトストレージの可用性・信頼性を享受できる")]),s._v(" "),t("li",[s._v("デメリット: アップロードするために複数の API エンドポイント呼び出しが必要なため、煩雑である")]),s._v(" "),t("li",[s._v("2023 年 6 月に AWS ブログでこの方式について解説した記事が出たので、詳細は参照ください。\n"),t("ul",[t("li",[t("a",{attrs:{href:"https://aws.amazon.com/jp/blogs/news/large-size-files-transferring-by-serverless-s3presignedurl-and-clientside-javascript/",target:"_blank",rel:"noopener noreferrer"}},[s._v("https://aws.amazon.com/jp/blogs/news/large-size-files-transferring-by-serverless-s3presignedurl-and-clientside-javascript/"),t("OutboundLink")],1)])])])])])]),s._v(" "),t("p",[s._v("本規約でファイルアップロードについて上記の 3. Signed URL を推奨する。API 呼び出しとしては次のようなフローとする。")]),s._v(" "),t("Mermaid",{attrs:{id:"mermaid_3008ab70",graph:s.$dataBlock.mermaid_3008ab70}}),t("p",[s._v("フローの ①、② はアプリケーション固有の紐づけルールにおいて Web API を設計すれば良いため、本規約で YAML の設定例は記載しない。フロー ② については Signed URL を用いたアップロードであり、アプリケーションの Web API 定義を書く必要はない。もし、監査ログなどのガバナンス上、直接オブジェクトストレージへの書き込みを許容されないケースは、B で Signed URL に相当する書き込み先を提供し、B を経由してファイルをアップロードする。")]),s._v(" "),t("p",[s._v("上記どちらのケースも OpenAPI 定義としてはシンプルであるため、記述例は割愛する。")]),s._v(" "),t("h3",{attrs:{id:"ファイルダウンロード"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ファイルダウンロード"}},[s._v("#")]),s._v(" ファイルダウンロード")]),s._v(" "),t("p",[s._v("ファイルアップロードと同様、オブジェクトストレージの Signed URL 経由を経由してのダウンロードさせる手法を推奨する。Web API としてはオブジェクトストレージにダウンロード用のファイルを書き込み、クライアントが取得するための Signed URL をレスポンスの JSON 項目に渡す方式である。")]),s._v(" "),t("p",[s._v("もし、サムネイルやアイコン画像など、ファイル容量がごく小さい場合は Base64 にエンコードして JSON に埋め込んで渡しても良い。線引をどこに設置するかは本規約で定義しない。")]),s._v(" "),t("p",[s._v("どちらのケースも OpenAPI 定義としてはシンプルであるため、記述例は割愛する。")]),s._v(" "),t("h3",{attrs:{id:"cors"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cors"}},[s._v("#")]),s._v(" CORS")]),s._v(" "),t("p",[s._v("CORS（Cross-Origin Resource Sharing）のために、options メソッドの追記は "),t("strong",[s._v("原則不要")]),s._v(" とする。")]),s._v(" "),t("p",[s._v("理由は以下である。")]),s._v(" "),t("ul",[t("li",[s._v("サーバ側\n"),t("ul",[t("li",[s._v("options メソッド対応は、API 使用ではなく実装レベルの機能横断的な処理（Java における Servlet Filter や Spring の Interceptor、Go における Middleware など）で行うことが大半であり、コード生成が不要")])])]),s._v(" "),t("li",[s._v("クライアント側\n"),t("ul",[t("li",[s._v("options メソッドを用いるのはクライアントがブラウザであり、クライアントのアプリケーションコードが明示的にアクセスしないため、コード生成が不要")])])]),s._v(" "),t("li",[s._v("使用面として\n"),t("ul",[t("li",[t("code",[s._v("Access-Control-Allow-Origin")]),s._v(" がどのような値を返すか、呼び出し元によって動的な値を返したい場合があり、記載が困難なケースがある")])])])]),s._v(" "),t("p",[s._v("ただし、Amazon API Gateway のようなサービスを利用する場合は、options メソッドの記載が必須である場合は除く"),t("a",{attrs:{href:"https://docs.aws.amazon.com/ja_jp/apigateway/latest/developerguide/enable-cors-for-resource-using-swagger-importer-tool.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("^1"),t("OutboundLink")],1),s._v("。")]),s._v(" "),t("h3",{attrs:{id:"opentelemetry-traceparent-http-header"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#opentelemetry-traceparent-http-header"}},[s._v("#")]),s._v(" OpenTelemetry Traceparent HTTP Header")]),s._v(" "),t("p",[s._v("OpenOpenTelemetryで用いるられる"),t("a",{attrs:{href:"https://www.w3.org/TR/trace-context/",target:"_blank",rel:"noopener noreferrer"}},[s._v("traceparent"),t("OutboundLink")],1),s._v(" のリクエストヘッダーはOpenAPIで "),t("strong",[s._v("原則不要")]),s._v(" とする。")]),s._v(" "),t("p",[s._v("理由は以下である。")]),s._v(" "),t("ul",[t("li",[s._v("OpenTelemetryが定めるヘッダー類は、API横断的に設定されるべきものであり、ミドルウェアやフレームワーク側などでの一律の制御を推奨するため")]),s._v(" "),t("li",[s._v("記載することにより、OpenOpenTelemetryに対応していることを明記し開発者に周知できるメリットより、各アプリ開発者が生成されたコードで悩んだり、誤解されることを回避したいため")])]),s._v(" "),t("h3",{attrs:{id:"api-のバージョン管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#api-のバージョン管理"}},[s._v("#")]),s._v(" API のバージョン管理")]),s._v(" "),t("p",[s._v("Swagger 定義で以下の変更を行う場合は、利用するコード生成の動作によってはクライアントにとって互換性を失う破壊的変更であることがあるため、変更は調整の上で行うか、バージョンを上げることを考える。")]),s._v(" "),t("ul",[t("li",[s._v("リクエスト項目\n"),t("ul",[t("li",[s._v("フィールドの型を変更する")]),s._v(" "),t("li",[s._v("桁数を小さくする")]),s._v(" "),t("li",[s._v("enum の種類を減らす")]),s._v(" "),t("li",[s._v("正規表現のチェックを厳しくする")]),s._v(" "),t("li",[s._v("必須フィールドを後から追加する")]),s._v(" "),t("li",[s._v("デフォルト値を後から変更する")])])]),s._v(" "),t("li",[s._v("レスポンス項目\n"),t("ul",[t("li",[s._v("フィールドの型を変更する")]),s._v(" "),t("li",[s._v("桁数を大きくする")]),s._v(" "),t("li",[s._v("デフォルト値を後から変更する")])])])]),s._v(" "),t("h3",{attrs:{id:"ファイル単位"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ファイル単位"}},[s._v("#")]),s._v(" ファイル単位")]),s._v(" "),t("p",[s._v("TODO v3 の作成タイミングと合わせて追記する")]),s._v(" "),t("h2",{attrs:{id:"推奨ツール"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#推奨ツール"}},[s._v("#")]),s._v(" 推奨ツール")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://future-architect.github.io/articles/20191008/",target:"_blank",rel:"noopener noreferrer"}},[s._v("本当に使ってよかった OpenAPI (Swagger) ツール "),t("OutboundLink")],1),s._v(" にあるように、様々なツールで開発ができる。VS Code を用いる場合は以下のプラグインを推奨する。")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://marketplace.visualstudio.com/items?itemName=redhat.vscode-yaml",target:"_blank",rel:"noopener noreferrer"}},[s._v("YAML"),t("OutboundLink")],1)]),s._v(" "),t("li",[t("a",{attrs:{href:"https://marketplace.visualstudio.com/items?itemName=Arjun.swagger-viewer",target:"_blank",rel:"noopener noreferrer"}},[s._v("Swagger Viewer"),t("OutboundLink")],1),s._v(" "),t("ul",[t("li",[s._v("Ctrl + Shift + P (Win: Shift + Alt +P ) → Preview Swagger で現在編集中の Swagger プレビューが可能")])])]),s._v(" "),t("li",[t("a",{attrs:{href:"https://docs.stoplight.io/docs/spectral/674b27b261c3c-overview",target:"_blank",rel:"noopener noreferrer"}},[s._v("spectral-cli"),t("OutboundLink")],1)])]),s._v(" "),t("p",[t("code",[s._v("editorconfig")]),s._v(" を用いる場合は、以下の定義を推奨する。")]),s._v(" "),t("div",{staticClass:"language-ini .editorconfig line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-ini"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("root")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("true")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token section"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token section-name selector"}},[s._v("*")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("charset")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("utf-8")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("insert_final_newline")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("true")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("trim_trailing_whitespace")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("true")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("end_of_line")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("lf")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token section"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token section-name selector"}},[s._v("*.{json,yaml}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")])]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("indent_size")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("2")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[s._v("indent_style")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[s._v("space")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("hr"),s._v(" "),t("h2",{attrs:{id:"license"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#license"}},[s._v("#")]),s._v(" License")]),s._v(" "),t("p",[t("a",{attrs:{href:"https://creativecommons.org/licenses/by/4.0/deed.ja",target:"_blank",rel:"noopener noreferrer"}},[t("img",{attrs:{src:"https://licensebuttons.net/l/by/4.0/88x31.png",alt:"CC-By-4.0"}}),t("OutboundLink")],1)])],1)}),[],!1,null,null,null);"function"==typeof e&&e(r);t.default=r.exports}}]);